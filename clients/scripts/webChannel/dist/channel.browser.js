!function(){"use strict";h="#cherry-root {\n  --cherry-pink: #e5008a;\n  --cherry-white: #ffffff;\n  --cherry-white-alpha: rgba(255, 255, 255, 0.53);\n  --cherry-red: #f44336;\n  --cherry-black: #212121;\n  --cherry-font-size: 16px;\n  --cherry-scale: 0.83;\n}\n\n#cherry-modal {\n  display: flex;\n  position: fixed;\n  z-index: 999;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  overflow: auto;\n  background-color: rgb(0, 0, 0);\n  background-color: rgba(0, 0, 0, 0.4);\n  color: var(--cherry-black);\n  font-size: var(--cherry-font-size);\n}\n\n#cherry-modal-content {\n  position: relative;\n  background-color: var(--cherry-white);\n  margin: auto;\n  padding: 2em;\n  width: 400px;\n  max-width: 400px;\n  border-radius: 3px;\n  animation: zoom-in 250ms 1;\n}\n\n#cherry-modal-close {\n  color: #aaa;\n  float: right;\n  font-weight: bold;\n  position: absolute;\n  font-size: 1.25em;\n  line-height: 0.75em;\n  width: 0.75em;\n  header: 0.75em;\n  top: 0.35em;\n  right: 0.35em;\n}\n\n#cherry-modal-close:hover,\n#cherry-modal-close:focus {\n  color: black;\n  text-decoration: none;\n  cursor: pointer;\n}\n\n#cherry-modal-form {\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  margin: 0;\n}\n\n#cherry-modal-form > * {\n  font-size: calc(var(--cherry-font-size) * var(--cherry-scale));\n}\n\n#cherry-modal-header {\n  text-align: center;\n  font-size: 1.5625em;\n  font-weight: bold;\n}\n\n#cherry-modal-subheader {\n  text-align: center;\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n}\n\n#cherry-modal-input {\n  display: block;\n  margin: 2em auto 0 auto;\n  width: 100%;\n  padding: 1em;\n  border: 1px solid rgba(0, 0, 0, 0.53);\n  background-color: var(--cherry-white);\n  color: var(--cherry-black);\n}\n\n#cherry-modal-input::placeholder {\n  color: var(--cherry-black);\n  opacity: 0.83;\n}\n\n#cherry-modal-input.error {\n  border: 2px solid var(--cherry-red);\n}\n\n#cherry-modal-input:focus {\n  outline: none;\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n}\n\n#cherry-modal-submit {\n  border: none;\n  background-color: var(--cherry-black);\n  color: var(--cherry-white);\n  cursor: pointer;\n  width: 100%;\n  padding: 1em;\n  margin-top: 1em;\n}\n\n#cherry-modal-submit:hover {\n  opacity: 0.83;\n}\n\n#cherry-error-message {\n  display: none;\n  margin-top: 0.5em;\n  font-size: 0.875em;\n  color: var(--cherry-red);\n}\n\n#cherry-loader {\n  border: 2px solid var(--cherry-white-alpha);\n  border-radius: 50%;\n  border-top: 2px solid var(--cherry-white);\n  width: 14px;\n  height: 14px;\n  margin-left: auto;\n  margin-right: auto;\n  -webkit-animation: spin 2s linear infinite; /* Safari */\n  animation: spin 2s linear infinite;\n}\n\ndiv#cherry-loader {\n  display: flex;\n}\n\n/* Safari */\n@-webkit-keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n  }\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes zoom-in {\n  0% {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n@media only screen and (max-width: 576px) {\n  #cherry-modal-content {\n    padding: 1em;\n    padding-top: 2em;\n    width: calc(90% - 2em);\n  }\n\n  #cherry-modal-header {\n    font-size: 1.25em;\n  }\n}\n",e=(e=void 0===e?{}:e).insertAt,h&&"undefined"!=typeof document&&(p=document.head||document.getElementsByTagName("head")[0],(u=document.createElement("style")).type="text/css","top"===e&&p.firstChild?p.insertBefore(u,p.firstChild):p.appendChild(u),u.styleSheet?u.styleSheet.cssText=h:u.appendChild(document.createTextNode(h)));var m={exports:{}},e=m.exports;{var p={exports:{}},u=function(n,o){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];return n.apply(o,e)}},G=u,y=Object.prototype.toString;function K(e){return Array.isArray(e)}function H(e){return void 0===e}function J(e){return null!==e&&!H(e)&&null!==e.constructor&&!H(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function W(e){return"[object ArrayBuffer]"===y.call(e)}function X(e){return"[object FormData]"===y.call(e)}function Q(e){e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&W(e.buffer);return e}function Y(e){return"string"==typeof e}function Z(e){return"number"==typeof e}function ee(e){return null!==e&&"object"==typeof e}function te(e){if("[object Object]"!==y.call(e))return!1;e=Object.getPrototypeOf(e);return null===e||e===Object.prototype}function ne(e){return"[object Date]"===y.call(e)}function oe(e){return"[object File]"===y.call(e)}function re(e){return"[object Blob]"===y.call(e)}function ae(e){return"[object Function]"===y.call(e)}function se(e){return ee(e)&&ae(e.pipe)}function ie(e){return"[object URLSearchParams]"===y.call(e)}function ce(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function de(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function me(e,t){if(null!=e)if(K(e="object"!=typeof e?[e]:e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function pe(){var n={};function e(e,t){te(n[t])&&te(e)?n[t]=pe(n[t],e):te(e)?n[t]=pe({},e):K(e)?n[t]=e.slice():n[t]=e}for(var t=0,o=arguments.length;t<o;t++)me(arguments[t],e);return n}function ue(n,e,o){return me(e,function(e,t){n[t]=o&&"function"==typeof e?G(e,o):e}),n}function ye(e){return e=65279===e.charCodeAt(0)?e.slice(1):e}var h={isArray:K,isArrayBuffer:W,isBuffer:J,isFormData:X,isArrayBufferView:Q,isString:Y,isNumber:Z,isObject:ee,isPlainObject:te,isUndefined:H,isDate:ne,isFile:oe,isBlob:re,isFunction:ae,isStream:se,isURLSearchParams:ie,isStandardBrowserEnv:de,forEach:me,merge:pe,extend:ue,trim:ce,stripBOM:ye},l=h;function he(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var k=function(e,t,n){if(!t)return e;var o,n=n?n(t):l.isURLSearchParams(t)?t.toString():(o=[],l.forEach(t,function(e,t){null!=e&&(l.isArray(e)?t+="[]":e=[e],l.forEach(e,function(e){l.isDate(e)?e=e.toISOString():l.isObject(e)&&(e=JSON.stringify(e)),o.push(he(t)+"="+he(e))}))}),o.join("&"));return n&&(-1!==(t=e.indexOf("#"))&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n),e},le=h;function ke(){this.handlers=[]}ke.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},ke.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},ke.prototype.forEach=function(t){le.forEach(this.handlers,function(e){null!==e&&t(e)})};var f=ke,fe=h,ge=function(n,o){fe.forEach(n,function(e,t){t!==o&&t.toUpperCase()===o.toUpperCase()&&(n[o]=e,delete n[t])})},Ae={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},be=kt=function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Ie=v=function(e,t,n,o,r){e=new Error(e);return be(e,t,n,o,r)},g=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(Ie("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)},ve=h,Re=ve.isStandardBrowserEnv()?{write:function(e,t,n,o,r,a){var s=[];s.push(e+"="+encodeURIComponent(t)),ve.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ve.isString(o)&&s.push("path="+o),ve.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){e=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Se=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},we=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},_e=function(e,t){return e&&!Se(t)?we(e,t):t},Ne=h,Pe=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],$e=function(e){var t,n,o={};return e&&Ne.forEach(e.split("\n"),function(e){n=e.indexOf(":"),t=Ne.trim(e.substr(0,n)).toLowerCase(),n=Ne.trim(e.substr(n+1)),!t||o[t]&&0<=Pe.indexOf(t)||(o[t]="set-cookie"===t?(o[t]||[]).concat([n]):o[t]?o[t]+", "+n:n)}),o},Te=h,Ce=Te.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function r(e){return n&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return t=r(window.location.href),function(e){e=Te.isString(e)?r(e):e;return e.protocol===t.protocol&&e.host===t.host}}():function(){return!0};function Ee(e){this.message=e}Ee.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Ee.prototype.__CANCEL__=!0;var A=Ee,Oe=h,Me=g,xe=Re,Ue=k,je=_e,Be=$e,Le=Ce,De=v,qe=Ae,ze=A,Fe=function(p){return new Promise(function(t,n){var e,o=p.data,r=p.headers,a=p.responseType;function s(){p.cancelToken&&p.cancelToken.unsubscribe(e),p.signal&&p.signal.removeEventListener("abort",e)}Oe.isFormData(o)&&delete r["Content-Type"];var i,c=new XMLHttpRequest,d=(p.auth&&(d=p.auth.username||"",i=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"",r.Authorization="Basic "+btoa(d+":"+i)),je(p.baseURL,p.url));function m(){var e;c&&(e="getAllResponseHeaders"in c?Be(c.getAllResponseHeaders()):null,e={data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:e,config:p,request:c},Me(function(e){t(e),s()},function(e){n(e),s()},e),c=null)}c.open(p.method.toUpperCase(),Ue(d,p.params,p.paramsSerializer),!0),c.timeout=p.timeout,"onloadend"in c?c.onloadend=m:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(m)},c.onabort=function(){c&&(n(De("Request aborted",p,"ECONNABORTED",c)),c=null)},c.onerror=function(){n(De("Network Error",p,null,c)),c=null},c.ontimeout=function(){var e=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",t=p.transitional||qe;p.timeoutErrorMessage&&(e=p.timeoutErrorMessage),n(De(e,p,t.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},Oe.isStandardBrowserEnv()&&(i=(p.withCredentials||Le(d))&&p.xsrfCookieName?xe.read(p.xsrfCookieName):void 0)&&(r[p.xsrfHeaderName]=i),"setRequestHeader"in c&&Oe.forEach(r,function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete r[t]:c.setRequestHeader(t,e)}),Oe.isUndefined(p.withCredentials)||(c.withCredentials=!!p.withCredentials),a&&"json"!==a&&(c.responseType=p.responseType),"function"==typeof p.onDownloadProgress&&c.addEventListener("progress",p.onDownloadProgress),"function"==typeof p.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(e=function(e){c&&(n(!e||e.type?new ze("canceled"):e),c.abort(),c=null)},p.cancelToken&&p.cancelToken.subscribe(e),p.signal&&(p.signal.aborted?e():p.signal.addEventListener("abort",e))),o=o||null,c.send(o)})},b=h,Ve=ge,Ge=kt,Ke={"Content-Type":"application/x-www-form-urlencoded"};function He(e,t){!b.isUndefined(e)&&b.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Je(){var e;return e="undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)?Fe:e}function We(e,t,n){if(b.isString(e))try{return(t||JSON.parse)(e),b.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}var Xe={transitional:Ae,adapter:Je(),transformRequest:[function(e,t){return Ve(t,"Accept"),Ve(t,"Content-Type"),b.isFormData(e)||b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e)?e:b.isArrayBufferView(e)?e.buffer:b.isURLSearchParams(e)?(He(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):b.isObject(e)||t&&"application/json"===t["Content-Type"]?(He(t,"application/json"),We(e)):e}],transformResponse:[function(e){var t=this.transitional||Xe.transitional,n=t&&t.silentJSONParsing,t=t&&t.forcedJSONParsing,n=!n&&"json"===this.responseType;if(n||t&&b.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw Ge(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};b.forEach(["delete","get","head"],function(e){Xe.headers[e]={}}),b.forEach(["post","put","patch"],function(e){Xe.headers[e]=b.merge(Ke)});var Qe=h,Ye=g=Xe,Ze=h,et=function(t,n,e){var o=this||Ye;return Qe.forEach(e,function(e){t=e.call(o,t,n)}),t},tt=Re=function(e){return!(!e||!e.__CANCEL__)},nt=g,ot=A;function rt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ot("canceled")}var _e=function(t){return rt(t),t.headers=t.headers||{},t.data=et.call(t,t.data,t.headers,t.transformRequest),t.headers=Ze.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Ze.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||nt.adapter)(t).then(function(e){return rt(t),e.data=et.call(t,e.data,e.headers,t.transformResponse),e},function(e){return tt(e)||(rt(t),e&&e.response&&(e.response.data=et.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})},I=h,$e=function(t,n){n=n||{};var o={};function r(e,t){return I.isPlainObject(e)&&I.isPlainObject(t)?I.merge(e,t):I.isPlainObject(t)?I.merge({},t):I.isArray(t)?t.slice():t}function a(e){return I.isUndefined(n[e])?I.isUndefined(t[e])?void 0:r(void 0,t[e]):r(t[e],n[e])}function e(e){if(!I.isUndefined(n[e]))return r(void 0,n[e])}function s(e){return I.isUndefined(n[e])?I.isUndefined(t[e])?void 0:r(void 0,t[e]):r(void 0,n[e])}function i(e){return e in n?r(t[e],n[e]):e in t?r(void 0,t[e]):void 0}var c={url:e,method:e,data:e,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i};return I.forEach(Object.keys(t).concat(Object.keys(n)),function(e){var t=c[e]||a,n=t(e);I.isUndefined(n)&&t!==i||(o[e]=n)}),o},at=(Ce={version:"0.26.1"}).version,st={},it=(["object","boolean","number","function","string","symbol"].forEach(function(t,n){st[t]=function(e){return typeof e===t||"a"+(n<1?"n ":" ")+t}}),{});function ct(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var o=Object.keys(e),r=o.length;0<r--;){var a=o[r],s=t[a];if(s){var i=e[a],s=void 0===i||s(i,a,e);if(!0!==s)throw new TypeError("option "+a+" must be "+s)}else if(!0!==n)throw Error("Unknown option "+a)}}st.transitional=function(o,r,n){function a(e,t){return"[Axios v"+at+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(e,t,n){if(!1===o)throw new Error(a(t," has been removed"+(r?" in "+r:"")));return r&&!it[t]&&(it[t]=!0,console.warn(a(t," has been deprecated since v"+r+" and will be removed in the near future"))),!o||o(e,t,n)}};var v=h,dt=k,mt=f,pt=_e,ut=$e,yt={assertOptions:ct,validators:st},R=yt.validators;function ht(e){this.defaults=e,this.interceptors={request:new mt,response:new mt}}ht.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=ut(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n,e=t.transitional,o=(void 0!==e&&yt.assertOptions(e,{silentJSONParsing:R.transitional(R.boolean),forcedJSONParsing:R.transitional(R.boolean),clarifyTimeoutError:R.transitional(R.boolean)},!1),[]),r=!0,a=(this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}),[]);if(this.interceptors.response.forEach(function(e){a.push(e.fulfilled,e.rejected)}),!r){var s=[pt,void 0];for(Array.prototype.unshift.apply(s,o),s=s.concat(a),n=Promise.resolve(t);s.length;)n=n.then(s.shift(),s.shift());return n}for(var i=t;o.length;){var c=o.shift(),d=o.shift();try{i=c(i)}catch(e){d(e);break}}try{n=pt(i)}catch(e){return Promise.reject(e)}for(;a.length;)n=n.then(a.shift(),a.shift());return n},ht.prototype.getUri=function(e){return e=ut(this.defaults,e),dt(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},v.forEach(["delete","get","head","options"],function(n){ht.prototype[n]=function(e,t){return this.request(ut(t||{},{method:n,url:e,data:(t||{}).data}))}}),v.forEach(["post","put","patch"],function(o){ht.prototype[o]=function(e,t,n){return this.request(ut(n||{},{method:o,url:e,data:t}))}});var ge=ht,lt=A;function S(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,o=this;this.promise.then(function(e){if(o._listeners){for(var t=o._listeners.length,n=0;n<t;n++)o._listeners[n](e);o._listeners=null}}),this.promise.then=function(e){var t,e=new Promise(function(e){o.subscribe(e),t=e}).then(e);return e.cancel=function(){o.unsubscribe(t)},e},e(function(e){o.reason||(o.reason=new lt(e),t(o.reason))})}S.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},S.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},S.prototype.unsubscribe=function(e){!this._listeners||-1!==(e=this._listeners.indexOf(e))&&this._listeners.splice(e,1)},S.source=function(){var t;return{token:new S(function(e){t=e}),cancel:t}};var kt=S,Ae=function(t){return function(e){return t.apply(null,e)}},ft=h,k=function(e){return ft.isObject(e)&&!0===e.isAxiosError},gt=h,At=u,bt=ge,It=$e;function vt(t){var e=new bt(t),n=At(bt.prototype.request,e);return gt.extend(n,bt.prototype,e),gt.extend(n,e),n.create=function(e){return vt(It(t,e))},n}(f=vt(g)).Axios=bt,f.Cancel=A,f.CancelToken=kt,f.isCancel=Re,f.VERSION=Ce.version,f.all=function(e){return Promise.all(e)},f.spread=Ae,f.isAxiosError=k,p.exports=f,p.exports.default=f;var Rt=p.exports;let t="";const qt=e=>{t="/"===e.substr(-1)?e.slice(0,-1):e},zt=()=>t;let n=null,o=null;const Ft={baseUrl:zt()},Vt=(e=Ft)=>(o=e,Rt.create({baseURL:e.baseUrl,timeout:e.timeout,headers:e.tenant?{"x-tenant":e.tenant}:{},validateStatus:function(e){return!0}})),Gt=e=>(n?e?e===o||e.baseUrl===(null===o||void 0===o?void 0:o.baseUrl)&&e.tenant===o.tenant&&e.timeout===o.timeout||(n=Vt(e)):n=Vt():n=Vt(e),n);_e=Object.freeze({__proto__:null,current:Gt});let r=null;var St=e=>{console.debug("Setting tenant: "+e),r=e};let a=null;var wt=e=>{a=e};let s=null;const Kt=e=>{s=e},Ht={"Content-Type":"application/json"},Jt=(e,t)=>{let n={...Ht};return r&&(n["x-tenant"]=r),e&&(n.Authorization="Bearer "+e),t?n["x-api-key"]=""+t:s&&(n["x-api-key"]=""+s),a&&(n["x-environment"]=a),n},Wt=async e=>{if(console.debug(e),500<=e.status)return console.error("Server responded: "+e.statusText),console.error(e.data),{error:e.data};if(400<=e.status)throw console.warn("Server responded: "+e.statusText),console.warn(e.data),e.data};let i=Wt;const Xt=e=>{i=e},Qt=async e=>(console.debug("SDK is handling an error response"),i(e)),D=(v=Object.freeze({__proto__:null,setErrorResponseHandler:Xt,handleErrorResponse:Qt}),async({token:e,apiKey:t,path:n,page:o,pageSize:r,body:a,method:s,query:i}={method:"get",path:"/"})=>{var c,d,m=zt();const p=Gt({baseUrl:m}),u=new URLSearchParams;for([c,d]of Object.entries(i||{}))c&&d&&u.append(c,d);o&&u.append("p.page",""+o),r&&u.append("p.pageSize",""+r),t&&u.append("apiKey",""+t);let y;try{y=await p({method:s,url:n,params:u,headers:Jt(e,null),data:a})}catch(e){throw console.error(e),e}return y.status<=299?y.data:(console.debug(y),Qt(y))}),Yt=async({token:e,page:t})=>D({path:"api/apiKeys",token:e,page:t});h=Ot={Server:"Server",Web:"Web"};var w=async({token:e,payload:t})=>D({path:"api/apiKeys",token:e,method:"post",body:t}),_=async({apiKey:e})=>D({path:"api/apiKeys/exchange",method:"post",body:{apiKey:e}}),N=async({token:e,id:t})=>D({path:"api/apiKeys/"+t,token:e,method:"delete"}),w=(u=Object.freeze({__proto__:null,fetchApiKeysAsync:Yt,createApiKeyAsync:w,exchangeApiKeyAsync:_,deleteApiKeyAsync:N}),async({token:e,page:t,searchTerm:n})=>D({path:"api/Businesses",token:e,page:t,query:{"q.term":n}})),_=async({token:e,id:t})=>D({path:"api/Businesses/"+t,token:e}),N=async({token:e,id:t})=>D({path:"api/Businesses/"+t,token:e,method:"delete"}),P=async({token:e,business:t})=>D({path:"api/Businesses",token:e,method:"post",body:t}),$=async({token:e,id:t,properties:n})=>D({token:e,path:`api/Businesses/${t}/Properties`,method:"post",body:n}),T=async({token:e,id:t,page:n,searchTerm:o})=>D({path:`api/Businesses/${t}/Members`,token:e,page:n,query:{"q.term":o}}),C=async({token:e,id:t,customerId:n})=>D({path:`api/Businesses/${t}/Members/`+n,token:e,method:"delete"}),E=async({token:e,id:t,customer:n})=>D({path:`api/Businesses/${t}/Members`,token:e,method:"post",body:n}),O=async({token:e,id:t})=>D({token:e,path:`api/businesses/${t}/recommendations`}),w=(ge=Object.freeze({__proto__:null,fetchBusinessesAsync:w,fetchBusinessAsync:_,deleteBusinessAsync:N,createBusinessAsync:P,updateBusinessPropertiesAsync:$,fetchBusinessMembersAsync:T,deleteBusinessMemberAsync:C,addBusinessMemberAsync:E,fetchRecommendationsAsync:O}),async({token:e,page:t})=>D({path:"api/Channels",token:e,page:t})),_=async({token:e,channel:t})=>D({path:"api/Channels",token:e,method:"post",body:t}),N=async({token:e,id:t})=>D({path:"api/Channels/"+t,token:e}),P=async({token:e,id:t})=>D({path:"api/Channels/"+t,token:e,method:"delete"}),$=async({token:e,id:t,endpoint:n})=>D({token:e,path:`api/Channels/${t}/Endpoint`,method:"post",body:n});function _t(e,t){let n=0;var o=e.length;const r=[];for(n=0;n<o;n+=t){var a=e.slice(n,n+t);r.push(a)}return r}$e=Object.freeze({__proto__:null,fetchChannelsAsync:w,createChannelAsync:_,fetchChannelAsync:N,deleteChannelAsync:P,updateChannelEndpointAsync:$});const q="api/Customers",Zt=async({token:e,page:t,searchTerm:n})=>D({path:q,token:e,page:t,query:{"q.term":n}}),en=async({token:e,id:t,properties:n})=>D({token:e,path:q+`/${t}/properties`,method:"post",body:n}),tn=async({token:e,id:t,useInternalId:n})=>D({path:q+"/"+t,token:e,query:{useInternalId:n}}),nn=async({token:e,id:t})=>D({token:e,path:q+`/${t}/action-groups`}),on=async({token:e,id:t})=>D({token:e,path:q+`/${t}/latest-recommendations`}),rn=async({token:e,id:t,category:n,actionName:o})=>D({path:q+`/${t}/actions/`+n,token:e,query:{actionName:o}}),an=async({token:e,payload:t})=>{const n=[];for(const o of _t(t.users,5e3).map(e=>({users:e}))){const r=await D({token:e,path:q,method:"put",body:o});if(!r.ok)return Qt(r);n.push(await r.json())}return n},sn=async({token:e,customer:t,user:n})=>(n&&console.warn("user is a deprecated property in createOrUpdateCustomerAsync(). use 'customer'."),D({path:q,method:"post",body:t||n,token:e})),cn=async({token:e,page:t,id:n,revenueOnly:o})=>D({path:q+`/${n}/Actions`,token:e,page:t,query:{revenueOnly:!!o}}),dn=async({token:e,id:t,metricId:n,useInternalId:o,value:r})=>D({path:q+`/${t}/Metrics/`+n,method:"post",token:e,query:{useInternalId:o},body:{value:r}}),mn=async({token:e,id:t})=>D({path:q+"/"+t,token:e,method:"delete"}),pn=async({token:e,id:t})=>D({token:e,path:q+`/${t}/segments`});g=Object.freeze({__proto__:null,fetchCustomersAsync:Zt,updateMergePropertiesAsync:en,fetchCustomerAsync:tn,fetchUniqueCustomerActionGroupsAsync:nn,fetchLatestRecommendationsAsync:on,fetchCustomerActionAsync:rn,uploadUserDataAsync:an,createOrUpdateCustomerAsync:sn,fetchCustomersActionsAsync:cn,setCustomerMetricAsync:dn,deleteCustomerAsync:mn,fetchCustomerSegmentsAsync:pn});T=async({token:e})=>D({path:"api/datasummary/events",token:e}),C=async({token:e})=>D({path:"api/datasummary/event-kind-names",token:e}),E=async({token:e,kind:t})=>D({path:"api/datasummary/event-kind/"+t,token:e}),O=async({token:e,kind:t,eventType:n})=>D({path:`api/datasummary/events/timeline/${t}/`+n,token:e}),w=async({token:e,scope:t})=>D({path:"api/datasummary/dashboard",token:e,query:{scope:t}}),_=async({token:e})=>D({path:"api/datasummary/actions",token:e}),N=(A=Object.freeze({__proto__:null,fetchEventSummaryAsync:T,fetchEventKindNamesAsync:C,fetchEventKindSummaryAsync:E,fetchEventTimelineAsync:O,fetchDashboardAsync:w,fetchLatestActionsAsync:_}),async({token:e})=>D({path:"api/deployment/configuration",token:e}));kt=Object.freeze({__proto__:null,fetchDeploymentConfigurationAsync:N});const un=async({id:e,token:t})=>D({token:t,path:"api/events/"+e}),yn=async({apiKey:e,token:t,events:n})=>D({path:"api/events",method:"post",token:t,apiKey:e,body:n}),hn=async({token:e,id:t,page:n,pageSize:o,useInternalId:r})=>D({path:`api/Customers/${t}/events`,token:e,page:n,pageSize:o,query:{useInternalId:r}}),ln=hn,kn=async({token:e,commonUserId:t,customerId:n,correlatorId:o,properties:r})=>{t={commonUserId:t,customerId:n,eventId:`recommendation-${o}-`+(new Date).getTime(),recommendationCorrelatorId:o,kind:"consumeRecommendation",eventType:"generated",properties:r};return yn({token:e,events:[t]})},fn=async({token:e,id:t})=>D({path:`api/Businesses/${t}/events`,token:e});Re=Object.freeze({__proto__:null,fetchEventAsync:un,createEventsAsync:yn,fetchCustomersEventsAsync:hn,fetchTrackedUsersEventsAsync:ln,createRecommendationConsumedEventAsync:kn,fetchBusinessEventsAsync:fn});var P=async({token:e,page:t})=>D({path:"api/Environments",token:e,page:t}),$=async({token:e,environment:t})=>D({path:"api/Environments",token:e,method:"post",body:t}),T=async({token:e,id:t})=>D({path:"api/Environments/"+t,token:e,method:"delete"}),C=(Ce=Object.freeze({__proto__:null,fetchEnvironmentsAsync:P,createEnvironmentAsync:$,deleteEnvironmentAsync:T,setDefaultEnvironmentId:wt}),console.warn("Deprecation Notice: Features are replaced by Metrics."),async({page:e,token:t})=>D({path:"api/FeatureGenerators",token:t,page:e})),E=async({token:e,payload:t})=>D({path:"api/FeatureGenerators",token:e,method:"post",body:t}),O=async({token:e,id:t})=>D({path:"api/FeatureGenerators/"+t,token:e,method:"delete"}),w=async({token:e,id:t})=>D({token:e,path:`api/FeatureGenerators/${t}/Trigger`,method:"post",body:{}}),_=(Ae=Object.freeze({__proto__:null,fetchFeatureGeneratorsAsync:C,createFeatureGeneratorAsync:E,deleteFeatureGeneratorAsync:O,manualTriggerFeatureGeneratorsAsync:w}),console.warn("Deprecation Notice: Feature Generators are replaced by Metric Generators."),async({token:e,page:t,searchTerm:n})=>D({path:"api/Features",token:e,page:t,query:{"q.term":n}})),N=async({token:e,id:t})=>D({path:"api/features/"+t,token:e}),P=async({token:e,page:t,id:n})=>D({path:`api/Features/${n}/TrackedUsers`,token:e,page:t}),$=async({token:e,page:t,id:n})=>D({path:`api/Features/${n}/TrackedUserFeatures`,token:e,page:t}),T=async({token:e,feature:t})=>D({path:"api/Features",token:e,method:"post",body:t}),C=async({token:e,id:t})=>D({path:"api/features/"+t,token:e,method:"delete"}),E=async({token:e,id:t})=>D({path:`api/TrackedUsers/${t}/features`,token:e}),O=async({token:e,id:t,feature:n,version:o})=>D({path:`api/TrackedUsers/${t}/features/`+n,token:e,query:{version:o}}),w=async({token:e,id:t})=>D({path:`api/features/${t}/Destinations`,token:e}),Nt=async({token:e,id:t,destination:n})=>D({path:`api/features/${t}/Destinations`,token:e,method:"post",body:n}),M=async({token:e,id:t,destinationId:n})=>D({path:`api/features/${t}/Destinations/`+n,token:e,method:"delete"}),x=async({token:e,id:t})=>D({path:`api/features/${t}/Generators`,token:e}),_=(k=Object.freeze({__proto__:null,fetchFeaturesAsync:_,fetchFeatureAsync:N,fetchFeatureTrackedUsersAsync:P,fetchFeatureTrackedUserFeaturesAsync:$,createFeatureAsync:T,deleteFeatureAsync:C,fetchTrackedUserFeaturesAsync:E,fetchTrackedUserFeatureValuesAsync:O,fetchDestinationsAsync:w,createDestinationAsync:Nt,deleteDestinationAsync:M,fetchGeneratorsAsync:x}),async({token:e,page:t,scope:n,searchTerm:o})=>D({path:"api/Metrics",token:e,page:t,query:{"q.term":o,"q.scope":n}})),N=async({token:e,id:t})=>D({path:"api/Metrics/"+t,token:e}),P=async({token:e,page:t,id:n})=>D({path:`api/Metrics/${n}/Customers`,token:e,page:t}),$=async({token:e,page:t,id:n})=>D({path:`api/Metrics/${n}/CustomerMetrics`,token:e,page:t}),T=async({token:e,metric:t})=>D({path:"api/Metrics",token:e,method:"post",body:t}),C=async({token:e,id:t})=>D({path:"api/Metrics/"+t,token:e,method:"delete"}),E=async({token:e,id:t})=>D({path:`api/Customers/${t}/Metrics`,token:e}),O=async({token:e,id:t,metricId:n,version:o})=>D({path:`api/Customers/${t}/Metrics/`+n,token:e,query:{version:o}}),w=async({token:e,id:t})=>D({path:`api/Metrics/${t}/AggregateMetricValuesNumeric`,token:e}),Nt=async({token:e,id:t})=>D({path:`api/Metrics/${t}/AggregateMetricValuesString`,token:e}),M=async({token:e,id:t})=>D({path:`api/Metrics/${t}/Destinations`,token:e}),x=async({token:e,id:t})=>D({path:`api/Metrics/${t}/ExportCustomers`,token:e}),Pt=async({token:e,id:t,binCount:n})=>D({path:`api/Metrics/${t}/NumericMetricBinValues`,token:e,query:{binCount:n}}),$t=async({token:e,id:t})=>D({path:`api/Metrics/${t}/CategoricalMetricBinValues`,token:e}),Tt=async({token:e,id:t,destination:n})=>D({path:`api/Metrics/${t}/Destinations`,token:e,method:"post",body:n}),Ct=async({token:e,id:t,destinationId:n})=>D({path:`api/Metrics/${t}/Destinations/`+n,token:e,method:"delete"}),U=async({token:e,id:t})=>D({path:`api/Metrics/${t}/Generators`,token:e}),Et=async({token:e,id:t})=>D({path:`api/Businesses/${t}/Metrics`,token:e}),j=async({token:e,id:t,metricId:n,version:o})=>D({path:`api/Businesses/${t}/Metrics/`+n,token:e,query:{version:o}}),_=(f=Object.freeze({__proto__:null,fetchMetricsAsync:_,fetchMetricAsync:N,fetchMetricCustomersAsync:P,fetchMetricCustomerMetricsAsync:$,createMetricAsync:T,deleteMetricAsync:C,fetchCustomersMetricsAsync:E,fetchCustomersMetricAsync:O,fetchAggregateMetricValuesNumericAsync:w,fetchAggregateMetricValuesStringAsync:Nt,fetchDestinationsAsync:M,fetchExportCustomers:x,fetchMetricBinValuesNumericAsync:Pt,fetchMetricBinValuesStringAsync:$t,createDestinationAsync:Tt,deleteDestinationAsync:Ct,fetchGeneratorsAsync:U,fetchBusinessMetricsAsync:Et,fetchBusinessMetricAsync:j}),async({page:e,token:t})=>D({path:"api/MetricGenerators",token:t,page:e})),N=async({token:e,generator:t})=>D({path:"api/MetricGenerators",token:e,method:"post",body:t}),P=async({token:e,id:t})=>D({path:"api/MetricGenerators/"+t,token:e,method:"delete"}),$=async({token:e,id:t})=>D({token:e,path:`api/MetricGenerators/${t}/Trigger`,method:"post",body:{}}),T=(p=Object.freeze({__proto__:null,fetchMetricGeneratorsAsync:_,createMetricGeneratorAsync:N,deleteMetricGeneratorAsync:P,manualTriggerMetricGeneratorsAsync:$}),async({token:e,page:t,systemType:n})=>D({path:"api/IntegratedSystems",token:e,page:t,query:{"q.scope":n}})),C=async({token:e,id:t})=>D({path:"api/IntegratedSystems/"+t,token:e}),E=async({token:e,id:t,name:n})=>D({path:`api/integratedSystems/${t}/name`,token:e,method:"post",query:{name:n}}),O=async({token:e,payload:t})=>D({path:"api/IntegratedSystems",token:e,method:"post",body:t}),w=async({token:e,id:t})=>D({path:"api/integratedSystems/"+t,token:e,method:"delete"}),Nt=async({token:e,id:t})=>D({path:`api/integratedSystems/${t}/webhookreceivers`,token:e}),M=async({token:e,id:t,useSharedSecret:n})=>D({path:`api/integratedSystems/${t}/webhookreceivers`,token:e,method:"post",body:{},query:{useSharedSecret:n}}),Ot=Object.freeze({__proto__:null,fetchIntegratedSystemsAsync:T,fetchIntegratedSystemAsync:C,renameAsync:E,createIntegratedSystemAsync:O,deleteIntegratedSystemAsync:w,fetchWebhookReceiversAsync:Nt,createWebhookReceiverAsync:M}),x=async({token:e,page:t})=>D({path:"api/ModelRegistrations",token:e,page:t}),Pt=async({token:e,id:t})=>D({path:"api/ModelRegistrations/"+t,token:e}),$t=async({token:e,id:t})=>D({path:"api/ModelRegistrations/"+t,token:e,method:"delete"}),Tt=async({token:e,payload:t})=>D({path:"api/ModelRegistrations",token:e,method:"post",body:t}),Ct=async({token:e,modelId:t,metrics:n})=>D({path:`api/ModelRegistrations/${t}/invoke`,token:e,method:"post",body:n}),U=(h=Object.freeze({__proto__:null,fetchModelRegistrationsAsync:x,fetchModelRegistrationAsync:Pt,deleteModelRegistrationAsync:$t,createModelRegistrationAsync:Tt,invokeModelAsync:Ct}),async({token:e,id:t,input:n})=>D({path:`api/models/generic/${t}/invoke`,body:n,method:"post",token:e})),Et=Object.freeze({__proto__:null,invokeGenericModelAsync:U}),j=async({token:e,page:t})=>D({path:"api/Parameters",token:e,page:t}),_=async({token:e,id:t})=>D({path:"api/parameters/"+t,token:e}),N=async({token:e,id:t})=>D({path:"api/parameters/"+t,token:e,method:"delete"}),P=async({token:e,payload:t})=>D({path:"api/Parameters",token:e,method:"post",body:t}),$=Object.freeze({__proto__:null,fetchParametersAsync:j,fetchParameterAsync:_,deleteParameterAsync:N,createParameterAsync:P});const gn=async({recommenderApiName:e,token:t,id:n})=>D({path:`api/recommenders/${e}/${n}/ModelRegistration`,token:t}),An=async({recommenderApiName:e,token:t,id:n,modelId:o})=>D({path:`api/recommenders/${e}/${n}/ModelRegistration`,token:t,method:"post",body:{modelId:o}}),bn=async({recommenderApiName:e,name:t,token:n,id:o})=>D({path:`api/recommenders/${e}/${o}/TargetVariableValues`,token:n,query:{name:t}}),In=async({recommenderApiName:e,targetVariableValue:t,token:n,id:o})=>D({path:`api/recommenders/${e}/${o}/TargetVariableValues`,token:n,method:"post",body:t}),vn=async({recommenderApiName:e,token:t,id:n,page:o})=>D({path:`api/recommenders/${e}/${n}/InvokationLogs`,page:o,token:t}),Rn=async({recommenderApiName:e,token:t,id:n,args:o})=>D({path:`api/recommenders/${e}/${n}/Arguments`,token:t,method:"post",body:o}),Sn=async({recommenderApiName:e,token:t,id:n,settings:o})=>D({path:`api/recommenders/${e}/${n}/Settings`,token:t,method:"post",body:o}),wn=async({recommenderApiName:e,token:t,id:n})=>D({token:t,path:`api/recommenders/${e}/${n}/Destinations`}),_n=async({recommenderApiName:e,token:t,id:n,destination:o})=>D({token:t,path:`api/recommenders/${e}/${n}/Destinations`,method:"post",body:o}),Nn=async({recommenderApiName:e,token:t,id:n,destinationId:o})=>D({path:`api/recommenders/${e}/${n}/Destinations/`+o,token:t,method:"delete"}),Pn=async({recommenderApiName:e,token:t,id:n,trigger:o})=>D({path:`api/recommenders/${e}/${n}/TriggerCollection`,token:t,method:"post",body:o}),$n=async({recommenderApiName:e,token:t,id:n})=>D({token:t,path:`api/recommenders/${e}/${n}/TriggerCollection`}),Tn=async({recommenderApiName:e,token:t,id:n,useInternalId:o})=>D({token:t,query:{useInternalId:o},path:`api/recommenders/${e}/${n}/LearningFeatures`}),Cn=async({recommenderApiName:e,token:t,id:n,useInternalId:o,featureIds:r})=>D({path:`api/recommenders/${e}/${n}/LearningFeatures`,token:t,method:"post",query:{useInternalId:o},body:{featureIds:r,useInternalId:o}}),En=async({recommenderApiName:e,token:t,id:n,useInternalId:o})=>D({token:t,query:{useInternalId:o},path:`api/recommenders/${e}/${n}/LearningFeatures`}),On=async({recommenderApiName:e,token:t,id:n,useInternalId:o,metricIds:r})=>D({path:`api/recommenders/${e}/${n}/LearningFeatures`,token:t,method:"post",query:{useInternalId:o},body:{metricIds:r,useInternalId:o}}),Mn=async({recommenderApiName:e,token:t,id:n})=>{console.debug("fetching image for recommender"),console.debug(`api/recommenders/${e}/${n}/ReportImage`);const o=Gt();let r;try{r=await o.get(`api/recommenders/${e}/${n}/ReportImage`,{headers:Jt(t,null),responseType:"blob"})}catch(e){throw console.error(e),e}if(200<=r.status&&r.status<300)return URL.createObjectURL(r.data);Qt(r)},z="ParameterSetRecommenders",xn=async({token:e,page:t})=>D({path:"api/recommenders/ParameterSetRecommenders",token:e,page:t}),Un=async({token:e,id:t,searchTerm:n})=>D({path:"api/recommenders/ParameterSetRecommenders/"+t,token:e,query:{"q.term":n}}),jn=async({token:e,payload:t})=>D({path:"api/recommenders/ParameterSetRecommenders",token:e,method:"post",body:t}),Bn=async({token:e,id:t})=>D({path:"api/recommenders/ParameterSetRecommenders/"+t,token:e,method:"delete"}),Ln=async({token:e,page:t,pageSize:n,id:o})=>D({path:`api/recommenders/ParameterSetRecommenders/${o}/recommendations`,token:e,page:t,pageSize:n}),Dn=async({token:e,id:t,modelId:n})=>An({recommenderApiName:z,id:t,modelId:n,token:e}),qn=async({token:e,id:t})=>gn({recommenderApiName:z,id:t,token:e}),zn=async({token:e,id:t,input:n})=>D({path:`api/recommenders/ParameterSetRecommenders/${t}/invoke`,token:e,method:"post",body:n}),Fn=async({id:e,token:t,page:n})=>vn({recommenderApiName:z,id:e,token:t,page:n}),Vn=async({id:e,token:t,name:n})=>bn({recommenderApiName:z,id:e,token:t,name:n}),Gn=async({id:e,token:t,targetVariableValue:n})=>In({recommenderApiName:z,id:e,token:t,targetVariableValue:n}),Kn=async({id:e,token:t,settings:n})=>Sn({recommenderApiName:z,id:e,token:t,settings:n}),Hn=async({id:e,token:t,args:n})=>Rn({recommenderApiName:z,id:e,token:t,args:n}),Jn=async({id:e,token:t})=>wn({recommenderApiName:z,id:e,token:t}),Wn=async({id:e,token:t,destination:n})=>_n({recommenderApiName:z,id:e,token:t,destination:n}),Xn=async({id:e,token:t,destinationId:n})=>Nn({recommenderApiName:z,id:e,token:t,destinationId:n}),Qn=async({id:e,token:t})=>$n({recommenderApiName:z,id:e,token:t}),Yn=async({id:e,token:t,trigger:n})=>Pn({recommenderApiName:z,id:e,token:t,trigger:n}),Zn=async({id:e,token:t,useInternalId:n})=>Tn({recommenderApiName:z,id:e,token:t,useInternalId:n}),eo=async({id:e,token:t,featureIds:n,useInternalId:o})=>Cn({recommenderApiName:z,id:e,token:t,useInternalId:o,featureIds:n}),to=async({id:e,token:t,useInternalId:n})=>En({recommenderApiName:z,id:e,token:t,useInternalId:n}),no=async({id:e,token:t,metricIds:n,useInternalId:o})=>On({recommenderApiName:z,id:e,token:t,useInternalId:o,metricIds:n}),oo=async({id:e,token:t})=>D({path:`api/recommenders/ParameterSetRecommenders/${e}/Statistics`,token:t}),ro=async({id:e,token:t,useInternalId:n})=>Mn({recommenderApiName:z,id:e,token:t,useInternalId:n});T=Object.freeze({__proto__:null,fetchParameterSetRecommendersAsync:xn,fetchParameterSetRecommenderAsync:Un,createParameterSetRecommenderAsync:jn,deleteParameterSetRecommenderAsync:Bn,fetchParameterSetRecommendationsAsync:Ln,createLinkRegisteredModelAsync:Dn,fetchLinkedRegisteredModelAsync:qn,invokeParameterSetRecommenderAsync:zn,fetchInvokationLogsAsync:Fn,fetchTargetVariablesAsync:Vn,createTargetVariableAsync:Gn,setSettingsAsync:Kn,setArgumentsAsync:Hn,fetchDestinationsAsync:Jn,createDestinationAsync:Wn,removeDestinationAsync:Xn,fetchTriggerAsync:Qn,setTriggerAsync:Yn,fetchLearningFeaturesAsync:Zn,setLearningFeaturesAsync:eo,fetchLearningMetricsAsync:to,setLearningMetricsAsync:no,fetchStatisticsAsync:oo,fetchReportImageBlobUrlAsync:ro}),C=async({token:e,metadata:t})=>D({path:"api/profile/metadata",token:e,method:"post",body:t}),E=async({token:e})=>D({path:"api/profile/metadata",token:e}),O=Object.freeze({__proto__:null,setMetadataAsync:C,getMetadataAsync:E});const F="ItemsRecommenders",ao=(console.warn("Deprecation Notice: Items Recommenders are replaced by Promotions Recommenders."),async({token:e,page:t})=>D({token:e,path:"api/recommenders/ItemsRecommenders",page:t})),so=async({token:e,id:t})=>D({path:"api/recommenders/ItemsRecommenders/"+t,token:e}),io=async({token:e,page:t,pageSize:n,id:o})=>D({token:e,path:`api/recommenders/ItemsRecommenders/${o}/Recommendations`,page:t,pageSize:n}),co=async({token:e,id:t})=>D({path:"api/recommenders/ItemsRecommenders/"+t,token:e,method:"delete"}),mo=async({token:e,payload:t,useInternalId:n})=>D({path:"api/recommenders/ItemsRecommenders",token:e,method:"post",body:t,query:{useInternalId:n}}),po=async({token:e,id:t})=>D({path:`api/recommenders/ItemsRecommenders/${t}/Items`,token:e}),uo=async({token:e,id:t,item:n})=>D({path:`api/recommenders/ItemsRecommenders/${t}/Items`,token:e,method:"post",body:n}),yo=async({token:e,id:t,itemId:n})=>D({path:`api/recommenders/ItemsRecommenders/${t}/Items/`+n,token:e,method:"post"}),ho=async({token:e,id:t,itemId:n})=>D({path:`api/recommenders/ItemsRecommenders/${t}/BaselineItem`,token:e,method:"post",body:{itemId:n}}),lo=ho,ko=async({token:e,id:t})=>D({path:`api/recommenders/ItemsRecommenders/${t}/BaselineItem`,token:e}),fo=ko,go=async({token:e,id:t,modelId:n})=>An({recommenderApiName:F,id:t,modelId:n,token:e}),Ao=async({token:e,id:t})=>gn({recommenderApiName:F,id:t,token:e}),bo=async({token:e,id:t,input:n})=>D({path:`api/recommenders/ItemsRecommenders/${t}/Invoke`,token:e,method:"post",body:n}),Io=async({id:e,token:t,page:n})=>vn({recommenderApiName:F,id:e,token:t,page:n}),vo=async({id:e,token:t,name:n})=>bn({recommenderApiName:F,id:e,token:t,name:n}),Ro=async({id:e,token:t,targetVariableValue:n})=>In({recommenderApiName:F,id:e,token:t,targetVariableValue:n}),So=async({id:e,token:t,settings:n})=>Sn({recommenderApiName:F,id:e,token:t,settings:n}),wo=async({id:e,token:t,args:n})=>Rn({recommenderApiName:F,id:e,token:t,args:n}),_o=async({id:e,token:t})=>wn({recommenderApiName:F,id:e,token:t}),No=async({id:e,token:t,destination:n})=>_n({recommenderApiName:F,id:e,token:t,destination:n}),Po=async({id:e,token:t,destinationId:n})=>Nn({recommenderApiName:F,id:e,token:t,destinationId:n}),$o=async({id:e,token:t})=>$n({recommenderApiName:F,id:e,token:t}),To=async({id:e,token:t,trigger:n})=>Pn({recommenderApiName:F,id:e,token:t,trigger:n}),Co=async({id:e,token:t,useInternalId:n})=>Tn({recommenderApiName:F,id:e,token:t,useInternalId:n}),Eo=async({id:e,token:t,featureIds:n,useInternalId:o})=>Cn({recommenderApiName:F,id:e,token:t,useInternalId:o,featureIds:n}),Oo=async({id:e,token:t,useInternalId:n})=>En({recommenderApiName:F,id:e,token:t,useInternalId:n}),Mo=async({id:e,token:t,metricIds:n,useInternalId:o})=>On({recommenderApiName:F,id:e,token:t,useInternalId:o,metricIds:n}),xo=async({id:e,token:t})=>D({path:`api/recommenders/ItemsRecommenders/${e}/Statistics`,token:t}),Uo=async({id:e,token:t,useInternalId:n})=>Mn({recommenderApiName:F,id:e,token:t,useInternalId:n}),jo=async({token:e,id:t,reportId:n})=>D({token:e,path:`api/recommenders/ItemsRecommenders/${t}/Performance/`+(null!=n?n:"latest")});w=Object.freeze({__proto__:null,fetchItemsRecommendersAsync:ao,fetchItemsRecommenderAsync:so,fetchItemsRecommendationsAsync:io,deleteItemsRecommenderAsync:co,createItemsRecommenderAsync:mo,fetchItemsAsync:po,addItemAsync:uo,removeItemAsync:yo,setBaselineItemAsync:ho,setDefaultItemAsync:lo,getBaselineItemAsync:ko,getDefaultItemAsync:fo,createLinkRegisteredModelAsync:go,fetchLinkedRegisteredModelAsync:Ao,invokeItemsRecommenderAsync:bo,fetchInvokationLogsAsync:Io,fetchTargetVariablesAsync:vo,createTargetVariableAsync:Ro,setSettingsAsync:So,setArgumentsAsync:wo,fetchDestinationsAsync:_o,createDestinationAsync:No,removeDestinationAsync:Po,fetchTriggerAsync:$o,setTriggerAsync:To,fetchLearningFeaturesAsync:Co,setLearningFeaturesAsync:Eo,fetchLearningMetricsAsync:Oo,setLearningMetricsAsync:Mo,fetchStatisticsAsync:xo,fetchReportImageBlobUrlAsync:Uo,fetchPerformanceAsync:jo});const V="PromotionsRecommenders",Bo=async({token:e,page:t})=>D({token:e,path:"api/recommenders/PromotionsRecommenders",page:t}),Lo=async({token:e,id:t})=>D({path:"api/recommenders/PromotionsRecommenders/"+t,token:e}),Do=async({token:e,page:t,pageSize:n,id:o})=>D({token:e,path:`api/recommenders/PromotionsRecommenders/${o}/Recommendations`,page:t,pageSize:n}),qo=async({token:e,id:t})=>D({path:"api/recommenders/PromotionsRecommenders/"+t,token:e,method:"delete"}),zo=async({token:e,payload:t,useInternalId:n})=>D({path:"api/recommenders/PromotionsRecommenders",token:e,method:"post",body:t,query:{useInternalId:n}}),Fo=async({token:e,id:t})=>D({path:`api/recommenders/PromotionsRecommenders/${t}/Promotions`,token:e}),Vo=async({token:e,id:t})=>D({path:`api/recommenders/PromotionsRecommenders/${t}/Audience`,token:e}),Go=async({token:e,id:t,promotion:n})=>D({path:`api/recommenders/PromotionsRecommenders/${t}/Promotions`,token:e,method:"post",body:n}),Ko=async({token:e,id:t,promotionId:n})=>D({path:`api/recommenders/PromotionsRecommenders/${t}/Promotions/`+n,token:e,method:"post"}),Ho=async({token:e,id:t,promotionId:n})=>D({path:`api/recommenders/PromotionsRecommenders/${t}/BaselinePromotion`,token:e,method:"post",body:{promotionId:n}}),Jo=async({token:e,id:t})=>D({path:`api/recommenders/PromotionsRecommenders/${t}/BaselinePromotion`,token:e}),Wo=async({token:e,id:t,modelId:n})=>An({recommenderApiName:V,id:t,modelId:n,token:e}),Xo=async({token:e,id:t})=>gn({recommenderApiName:V,id:t,token:e}),Qo=async({token:e,id:t,input:n})=>D({path:`api/recommenders/PromotionsRecommenders/${t}/Invoke`,token:e,method:"post",body:n}),Yo=async({id:e,token:t,page:n})=>vn({recommenderApiName:V,id:e,token:t,page:n}),Zo=async({id:e,token:t,name:n})=>bn({recommenderApiName:V,id:e,token:t,name:n}),er=async({id:e,token:t,targetVariableValue:n})=>In({recommenderApiName:V,id:e,token:t,targetVariableValue:n}),tr=async({id:e,token:t,settings:n})=>Sn({recommenderApiName:V,id:e,token:t,settings:n}),nr=async({id:e,token:t,args:n})=>Rn({recommenderApiName:V,id:e,token:t,args:n}),or=async({id:e,token:t})=>wn({recommenderApiName:V,id:e,token:t}),rr=async({id:e,token:t,destination:n})=>_n({recommenderApiName:V,id:e,token:t,destination:n}),ar=async({id:e,token:t,destinationId:n})=>Nn({recommenderApiName:V,id:e,token:t,destinationId:n}),sr=async({id:e,token:t})=>$n({recommenderApiName:V,id:e,token:t}),ir=async({id:e,token:t,trigger:n})=>Pn({recommenderApiName:V,id:e,token:t,trigger:n}),cr=async({id:e,token:t,useInternalId:n})=>Tn({recommenderApiName:V,id:e,token:t,useInternalId:n}),dr=async({id:e,token:t,featureIds:n,useInternalId:o})=>Cn({recommenderApiName:V,id:e,token:t,useInternalId:o,featureIds:n}),mr=async({id:e,token:t,useInternalId:n})=>En({recommenderApiName:V,id:e,token:t,useInternalId:n}),pr=async({id:e,token:t,metricIds:n,useInternalId:o})=>On({recommenderApiName:V,id:e,token:t,useInternalId:o,metricIds:n}),ur=async({id:e,token:t})=>D({path:`api/recommenders/PromotionsRecommenders/${e}/Statistics`,token:t}),yr=async({id:e,token:t,useInternalId:n})=>Mn({recommenderApiName:V,id:e,token:t,useInternalId:n}),hr=async({token:e,id:t,reportId:n})=>D({token:e,path:`api/recommenders/PromotionsRecommenders/${t}/Performance/`+(null!=n?n:"latest")}),lr=async({token:e,useInternalId:t,id:n})=>D({token:e,query:{useInternalId:t},path:`api/recommenders/PromotionsRecommenders/${n}/Optimiser/`}),kr=async({token:e,useInternalId:t,id:n,weights:o})=>D({token:e,query:{useInternalId:t},path:`api/recommenders/PromotionsRecommenders/${n}/Optimiser/Weights/`,method:"post",body:o}),fr=async({token:e,useInternalId:t,id:n,weightId:o,weight:r})=>D({token:e,query:{useInternalId:t},path:`api/recommenders/PromotionsRecommenders/${n}/Optimiser/Weights/`+o,method:"post",body:{weight:r}}),gr=async({token:e,useInternalId:t,id:n,useOptimiser:o})=>D({token:e,query:{useInternalId:t},path:`api/recommenders/PromotionsRecommenders/${n}/UseOptimiser`,method:"post",body:{useOptimiser:o}}),Ar=async({id:e,token:t})=>D({path:`api/recommenders/PromotionsRecommenders/${e}/Channels`,token:t}),br=async({token:e,id:t,channel:n})=>D({path:`api/recommenders/PromotionsRecommenders/${t}/Channels`,token:e,method:"post",body:n}),Ir=async({id:e,token:t,channelId:n})=>D({path:`api/recommenders/PromotionsRecommenders/${e}/Channels/`+n,token:t,method:"delete"});Nt=Object.freeze({__proto__:null,fetchPromotionsRecommendersAsync:Bo,fetchPromotionsRecommenderAsync:Lo,fetchPromotionsRecommendationsAsync:Do,deletePromotionsRecommenderAsync:qo,createPromotionsRecommenderAsync:zo,fetchPromotionsAsync:Fo,fetchAudienceAsync:Vo,addPromotionAsync:Go,removePromotionAsync:Ko,setBaselinePromotionAsync:Ho,getBaselinePromotionAsync:Jo,createLinkRegisteredModelAsync:Wo,fetchLinkedRegisteredModelAsync:Xo,invokePromotionsRecommenderAsync:Qo,fetchInvokationLogsAsync:Yo,fetchTargetVariablesAsync:Zo,createTargetVariableAsync:er,setSettingsAsync:tr,setArgumentsAsync:nr,fetchDestinationsAsync:or,createDestinationAsync:rr,removeDestinationAsync:ar,fetchTriggerAsync:sr,setTriggerAsync:ir,fetchLearningFeaturesAsync:cr,setLearningFeaturesAsync:dr,fetchLearningMetricsAsync:mr,setLearningMetricsAsync:pr,fetchStatisticsAsync:ur,fetchReportImageBlobUrlAsync:yr,fetchPerformanceAsync:hr,fetchPromotionOptimiserAsync:lr,setAllPromotionOptimiserWeightsAsync:kr,setPromotionOptimiserWeightAsync:fr,setUseOptimiserAsync:gr,fetchRecommenderChannelsAsync:Ar,addRecommenderChannelAsync:br,removeRecommenderChannelAsync:Ir});let c=void 0;M=async()=>{var e;return c||(e=await D({path:"api/reactConfig/auth0"}),c=e),c};let d=void 0;x=async()=>{var e;return d||(e=await D({token:"",path:"api/reactConfig"}),d=e),d},Pt=async()=>D({path:"api/reactConfig/hosting",method:"get"}),$t=Object.freeze({__proto__:null,fetchAuth0ConfigurationAsync:M,fetchConfigurationAsync:x,fetchHostingAsync:Pt});const vr=async({api:e,token:t,id:n})=>D({path:`api/${e}/${n}/Properties`,token:t}),Rr=async({api:e,token:t,id:n,properties:o})=>D({path:`api/${e}/${n}/Properties`,token:t,method:"post",body:o}),Sr=(console.warn("Deprecation Notice: Recommendable Items are replaced by Promotions."),async({token:e,page:t,searchTerm:n})=>D({path:"api/RecommendableItems",token:e,page:t,query:{"q.term":n}})),wr=async({token:e,id:t})=>D({path:"api/RecommendableItems/"+t,token:e}),_r=async({token:e,item:t})=>D({path:"api/RecommendableItems",token:e,method:"post",body:t}),Nr=async({token:e,id:t,item:n})=>D({path:"api/RecommendableItems/"+t,token:e,method:"post",body:n}),Pr=async({token:e,id:t})=>D({path:"api/RecommendableItems/"+t,token:e,method:"delete"}),$r=async({token:e,id:t})=>vr({token:e,id:t,api:"RecommendableItems"}),Tr=async({token:e,id:t,properties:n})=>Rr({token:e,id:t,properties:n,api:"RecommendableItems"});var Tt=Object.freeze({__proto__:null,fetchItemsAsync:Sr,fetchItemAsync:wr,createItemAsync:_r,updateItemAsync:Nr,deleteItemAsync:Pr,getPropertiesAsync:$r,setPropertiesAsync:Tr}),Ct=async({token:e,page:t,searchTerm:n,promotionType:o,benefitType:r,weeksAgo:a})=>D({path:"api/Promotions",token:e,page:t,query:{"q.term":n,"q.weeksAgo":a,promotionType:o,benefitType:r}}),U=async({token:e,id:t})=>D({path:"api/Promotions/"+t,token:e}),j=async({token:e,promotion:t})=>D({path:"api/Promotions",token:e,method:"post",body:t}),_=async({token:e,id:t,promotion:n})=>D({path:"api/Promotions/"+t,token:e,method:"post",body:n}),N=async({token:e,id:t})=>D({path:"api/Promotions/"+t,token:e,method:"delete"}),P=async({token:e,id:t})=>vr({token:e,id:t,api:"Promotions"}),C=async({token:e,id:t,properties:n})=>Rr({token:e,id:t,properties:n,api:"Promotions"}),E=Object.freeze({__proto__:null,fetchPromotionsAsync:Ct,fetchPromotionAsync:U,createPromotionAsync:j,updatePromotionAsync:_,deletePromotionAsync:N,getPropertiesAsync:P,setPropertiesAsync:C}),M=async({token:e})=>D({path:"api/Reports",token:e}),x=async({token:e,reportName:t})=>D({path:"api/reports/download",token:e,query:{report:t}}),Pt=Object.freeze({__proto__:null,fetchReportsAsync:M,downloadReportAsync:x}),Ct=async({token:e,page:t})=>D({path:"api/Segments",token:e,page:t}),U=async({token:e,id:t})=>D({path:"api/segments/"+t,token:e}),j=async({token:e,payload:t})=>D({path:"api/Segments",token:e,method:"post",body:t}),_=async({token:e,id:t})=>D({path:"api/Segments/"+t,token:e,method:"delete"}),N=async({token:e,id:t,customerId:n})=>D({path:`api/Segments/${t}/Customers/`+n,token:e,method:"post"}),P=async({token:e,id:t,customerId:n})=>D({path:`api/Segments/${t}/Customers/`+n,token:e,method:"delete"}),C=async({token:e,page:t,id:n,searchTerm:o,weeksAgo:r})=>D({path:`api/Segments/${n}/Customers`,token:e,page:t,query:{"q.term":o,"q.weeksAgo":r}}),M=async({token:e,id:t})=>D({path:`api/Segments/${t}/MetricEnrolmentRules`,token:e}),x=async({token:e,id:t,payload:n})=>D({path:`api/Segments/${t}/MetricEnrolmentRules`,token:e,method:"post",body:n}),Mt=async({token:e,id:t,ruleId:n})=>D({path:`api/Segments/${t}/MetricEnrolmentRules/`+n,token:e,method:"delete"}),Ct=Object.freeze({__proto__:null,fetchSegmentsAsync:Ct,fetchSegmentAsync:U,createSegmentAsync:j,deleteSegmentAsync:_,addCustomerAsync:N,removeCustomerAsync:P,fetchSegmentCustomersAsync:C,fetchSegmentEnrolmentRulesAsync:M,addSegmentEnrolmentRuleAsync:x,removeSegmentEnrolmentRuleAsync:Mt}),U=async({token:e,page:t})=>D({path:"api/Touchpoints",token:e,page:t}),j=async({token:e,id:t})=>D({path:"api/touchpoints/"+t,token:e}),_=async({token:e,payload:t})=>D({path:"api/Touchpoints",token:e,method:"post",body:t}),N=async({token:e,id:t})=>D({path:`api/trackedusers/${t}/touchpoints`,token:e}),P=async({token:e,id:t})=>D({path:`api/touchpoints/${t}/trackedusers`,token:e}),C=async({token:e,id:t,touchpointCommonId:n,payload:o})=>D({path:`api/trackedusers/${t}/touchpoints/`+n,token:e,method:"post",body:o}),M=async({token:e,id:t,touchpointCommonId:n})=>D({path:`api/trackedusers/${t}/touchpoints/`+n,token:e}),x=Object.freeze({__proto__:null,fetchTouchpointsAsync:U,fetchTouchpointAsync:j,createTouchpointMetadataAsync:_,fetchTrackedUserTouchpointsAsync:N,fetchTrackedUsersInTouchpointAsync:P,createTrackedUserTouchpointAsync:C,fetchTrackedUserTouchpointValuesAsync:M}),Mt=Object.freeze({__proto__:null,fetchTrackedUsersAsync:Zt,updateMergePropertiesAsync:en,fetchTrackedUserAsync:tn,fetchUniqueTrackedUserActionGroupsAsync:nn,fetchLatestRecommendationsAsync:on,fetchTrackedUserActionAsync:rn,uploadUserDataAsync:an,createOrUpdateTrackedUserAsync:sn,fetchTrackedUsersActionsAsync:cn,deleteCustomerAsync:mn}),U=async({token:e})=>D({path:"api/tenants/current",token:e,method:"get"}),j=async({token:e})=>D({path:"api/tenants/hosting",token:e,method:"get"}),_=async({token:e})=>D({path:"api/tenants/current/memberships",token:e,method:"get"}),N=async({token:e,email:t})=>D({path:"api/tenants/current/memberships",token:e,method:"post",body:{email:t}}),P=Object.freeze({__proto__:null,fetchCurrentTenantAsync:U,fetchHostingAsync:j,fetchCurrentTenantMembershipsAsync:_,createTenantMembershipAsync:N}),C=async({token:e,page:t})=>D({path:"api/RewardSelectors",token:e,page:t}),M=async({token:e,id:t})=>D({path:"api/RewardSelectors/"+t,token:e,page:page}),U=async({token:e,id:t})=>D({path:"api/RewardSelectors/"+t,token:e,method:"delete"}),j=async({token:e,entity:t})=>D({path:"api/RewardSelectors",token:e,method:"post",body:t}),_=Object.freeze({__proto__:null,fetchRewardSelectorsAsync:C,fetchRewardSelectorAsync:M,deleteRewardSelectorAsync:U,createRewardSelectorAsync:j});e.apiKeys=u,e.axiosInstance=_e,e.businesses=ge,e.channels=$e,e.customers=g,e.dataSummary=A,e.deployment=kt,e.environments=Ce,e.errorHandling=v,e.events=Re,e.featureGenerators=Ae,e.features=k,e.integratedSystems=Ot,e.itemsRecommenders=w,e.metricGenerators=p,e.metrics=f,e.modelRegistrations=h,e.models=Et,e.parameterSetRecommenders=T,e.parameters=$,e.profile=O,e.promotions=E,e.promotionsRecommenders=Nt,e.reactConfig=$t,e.recommendableItems=Tt,e.reports=Pt,e.rewardSelectors=_,e.segments=Ct,e.setBaseUrl=qt,e.setDefaultApiKey=Kt,e.setDefaultEnvironmentId=wt,e.setTenant=St,e.tenants=P,e.touchpoints=x,e.trackedUsers=Mt,Object.defineProperty(e,"__esModule",{value:!0})}const xt=e=>!e||!(e.indexOf("@")<0||e.indexOf(".")<0),Ut=()=>Math.floor(1099511627776*Math.random()).toString(16)+Math.floor(1099511627776*Math.random()).toString(16),B={CHERRY:"cherry",ID:"id",HIDDEN:"hidden"},jt={EQUAL:"equal",NOT_EQUAL:"not equal",CONTAINS:"contains"},Bt={NONE:"none",ALLOW:"allow",BLOCK:"block"};var r=null;const a=()=>window[r||"localStorage"],L=({key:e}={})=>{const t=a();var n=JSON.parse(t.getItem(B.CHERRY)||"{}");return e?n?.[e]:n},Lt=({key:e,value:t}={})=>{const n=a();var o=L();n.setItem(B.CHERRY,JSON.stringify({...o,[e]:t}))},Dt=({header:e="",subheader:t=""})=>{e=`
      <div id="cherry-modal">
        <div id="cherry-modal-content">
          <span id="cherry-modal-close">&times;</span>
          <div id="cherry-modal-header">${e}</div>
          <div id="cherry-modal-subheader">${t}</div>
          <form id="cherry-modal-form">
            <input id="cherry-modal-input" type="text" name="email" placeholder="Enter your email address">
            <label id="cherry-error-message">Invalid email address</label>
            <button id="cherry-modal-submit">Submit</button>
          </form>
        </div>
      </div>
    `;let n=document.getElementById("cherry-root");if(!n){const d=document.getElementsByTagName("body")[0];(n=document.createElement("div")).setAttribute("id","cherry-root"),d.appendChild(n)}n.insertAdjacentHTML("beforeend",e);const o=document.getElementById("cherry-modal"),r=document.getElementById("cherry-modal-form"),a=document.getElementById("cherry-modal-submit"),s=document.getElementById("cherry-modal-close"),i=document.getElementById("cherry-modal-input"),c=document.getElementById("cherry-error-message");s.addEventListener("click",()=>{Lt({key:B.HIDDEN,value:!0}),o.style.display="none"}),r.addEventListener("submit",e=>{if(e.preventDefault(),i.value){if(!xt(i.value))return i.classList.add("error"),void(c.style.display="block");i.classList.remove("error"),c.style.display="none",a.textContent="",a.insertAdjacentHTML("beforeend",'<div id="cherry-loader"></div>'),m.exports.events.createEventsAsync({events:[{commonUserId:L({key:B.ID}),eventId:Ut(),kind:"identify",eventType:"Customer name and email update",recommendationCorrelatorId:null,properties:{firstName:i.value,email:i.value},timestamp:new Date}]}).then(()=>{s.click()})}})};N=new URL(document.getElementById("cherry-channel").src);const t=new URLSearchParams(N.search);C=t.get("baseUrl"),M=t.get("tenant"),U=t.get("apiKey");const n=t.get("channelId");function s({customerId:a,channelProperties:e}){const t=new URLSearchParams(window.location.search),{popupDelay:s,popupHeader:i,popupSubheader:c,recommenderIdToInvoke:n,conditionalAction:o,conditions:r}=e;var d;if(0<r?.length&&window.location.search.slice(1)){var e=new URLSearchParams(t),e=({conditions:e,searchParams:d}=[{conditions:r,searchParams:e}][0],e.every(e=>e.operator===jt.EQUAL?d.get(e.parameter)===e.value:e.operator===jt.NOT_EQUAL?d.get(e.parameter)!==e.value:e.operator!==jt.CONTAINS||d.get(e.parameter).includes(e.value)));if(o===Bt.BLOCK&&e||o===Bt.ALLOW&&!e)return}if(m.exports.events.createEventsAsync({events:[{commonUserId:a,eventId:Ut(),kind:"pageView",eventType:"Customer UTM parameters",recommendationCorrelatorId:null,properties:{utm_id:t.get("utm_id"),utm_source:t.get("utm_source"),utm_medium:t.get("utm_medium"),utm_campaign:t.get("utm_campaign"),utm_term:t.get("utm_term"),utm_content:t.get("utm_content"),host:location.host,path:location.pathname},timestamp:new Date}]}),n)n&&m.exports.promotionsRecommenders.invokePromotionsRecommenderAsync({id:n,input:{customerId:a,arguments:{}}}).then(({scoredItems:e,correlatorId:t})=>{const n=e[0]["item"];const o=(i||"GET %promotionName%").replace("%promotionName%",n.name).toUpperCase(),r=(c||"Sign up for our newsletter to get your %promotionName% discount code!").replace("%promotionName%",n.name.toLowerCase());setTimeout(()=>{Dt({header:o,subheader:r})},s||0),m.exports.events.createRecommendationConsumedEventAsync({customerId:a,correlatorId:t})});else void setTimeout(()=>{Dt({header:i||"",subheader:c||"Don't miss any of our promotions. Subscribe now!"})},s||0)}m.exports.setBaseUrl(C),m.exports.setTenant(M),m.exports.setDefaultApiKey(U),async function(){m.exports.channels.fetchChannelAsync({id:n}).then(({properties:t})=>{var{popupAskForEmail:e,customerIdPrefix:n,storageType:o}=t;r=o,e&&!L({key:B.HIDDEN})&&(L({key:B.ID})||(o=n?n+"-"+Ut():Ut(),Lt({key:B.ID,value:o})),n&&!L({key:B.ID}).includes("-")&&(e=n+"-"+L({key:B.ID}),Lt({key:B.ID,value:e})),m.exports.customers.fetchCustomerAsync({id:L({key:B.ID}),useInternalId:!1}).then(({customerId:e})=>{s({customerId:e,channelProperties:t})}).catch(({status:e})=>{404===e&&m.exports.customers.createOrUpdateCustomerAsync({customer:{customerId:L({key:B.ID}),name:L({key:B.ID}),email:null,integratedSystemReference:null}}).then(({customerId:e})=>{s({customerId:e,channelProperties:t})})}))}).catch(()=>{})}()}();
